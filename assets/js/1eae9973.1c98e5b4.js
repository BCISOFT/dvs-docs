"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6135],{3790:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"data-management/backup/restore","title":"dvs backup restore","description":"Restore from a backup snapshot.","source":"@site/docs/10-data-management/backup/restore.md","sourceDirName":"10-data-management/backup","slug":"/data-management/backup/restore","permalink":"/docs/data-management/backup/restore","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1768660251000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"dvs backup restore"},"sidebar":"tutorialSidebar","previous":{"title":"dvs backup list","permalink":"/docs/data-management/backup/list"},"next":{"title":"dvs backup prune","permalink":"/docs/data-management/backup/prune"}}');var n=s(4848),i=s(8453);const d={sidebar_position:4,title:"dvs backup restore"},o="dvs backup restore",c={},l=[{value:"Syntax",id:"syntax",level:2},{value:"Selection Options",id:"selection-options",level:2},{value:"Restore Options",id:"restore-options",level:2},{value:"Examples",id:"examples",level:2},{value:"Restore Flow",id:"restore-flow",level:2},{value:"Safety",id:"safety",level:2}];function a(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"dvs-backup-restore",children:"dvs backup restore"})}),"\n",(0,n.jsx)(t.p,{children:"Restore from a backup snapshot."}),"\n",(0,n.jsx)(t.h2,{id:"syntax",children:"Syntax"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"dvs backup restore [id|latest] --storage <name> [options]\n"})}),"\n",(0,n.jsx)(t.h2,{id:"selection-options",children:"Selection Options"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"--storage <name>"})}),(0,n.jsx)(t.td,{children:"Storage to restore from (required)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"id"})}),(0,n.jsx)(t.td,{children:"Snapshot ID to restore"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"latest"})}),(0,n.jsx)(t.td,{children:"Restore most recent snapshot"})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"restore-options",children:"Restore Options"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"--files"})}),(0,n.jsx)(t.td,{children:"Restore application files"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"--db"})}),(0,n.jsx)(t.td,{children:"Restore database"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"--config"})}),(0,n.jsx)(t.td,{children:"Restore app configuration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"--remotes"})}),(0,n.jsx)(t.td,{children:"Restore remotes configuration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"--all"})}),(0,n.jsx)(t.td,{children:"Restore everything"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"--extract"})}),(0,n.jsx)(t.td,{children:"Extract to folder without applying"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"--target <path>"})}),(0,n.jsxs)(t.td,{children:["Destination for ",(0,n.jsx)(t.code,{children:"--extract"})," mode"]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"# Interactive selection\ndvs backup restore --storage backup\n\n# Restore latest, files and database\ndvs backup restore latest --storage backup --files --db\n\n# Restore everything\ndvs backup restore abc123de --storage backup --all\n\n# Extract to folder for inspection\ndvs backup restore latest --storage backup --extract --target ~/restore-preview\n"})}),"\n",(0,n.jsx)(t.h2,{id:"restore-flow",children:"Restore Flow"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Select snapshot (interactive or specified)"}),"\n",(0,n.jsx)(t.li,{children:"Download from restic repository"}),"\n",(0,n.jsx)(t.li,{children:"Decrypt and decompress"}),"\n",(0,n.jsxs)(t.li,{children:["Apply selected components:","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Files: Copy to app directory"}),"\n",(0,n.jsx)(t.li,{children:"Database: Import dump"}),"\n",(0,n.jsx)(t.li,{children:"Config: Restore configuration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"safety",children:"Safety"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Files are restored in-place (existing files overwritten)"}),"\n",(0,n.jsx)(t.li,{children:"Database is replaced entirely"}),"\n",(0,n.jsxs)(t.li,{children:["Use ",(0,n.jsx)(t.code,{children:"--extract"})," to preview before applying"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>d,x:()=>o});var r=s(6540);const n={},i=r.createContext(n);function d(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);