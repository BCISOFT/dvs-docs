"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7616],{7946:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>d,toc:()=>a});const d=JSON.parse('{"id":"data-management/dumps","title":"dvs dumps \ud83d\udd10","description":"G\xe9rer et r\xe9cup\xe9rer des dumps de base de donn\xe9es depuis des serveurs distants.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/10-data-management/dumps.md","sourceDirName":"10-data-management","slug":"/data-management/dumps","permalink":"/fr/docs/data-management/dumps","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1769614288000,"sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"dvs dumps \ud83d\udd10"},"sidebar":"tutorialSidebar","previous":{"title":"dvs deploy \ud83d\udd10","permalink":"/fr/docs/data-management/deploy"},"next":{"title":"dvs secrets \ud83d\udd10","permalink":"/fr/docs/data-management/secrets"}}');var r=n(4848),t=n(8453);const i={sidebar_position:8,title:"dvs dumps \ud83d\udd10"},c="dvs dumps",l={},a=[{value:"Concept",id:"concept",level:2},{value:"Syntaxe",id:"syntaxe",level:2},{value:"Commandes",id:"commandes",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Param\xe8tres",id:"param\xe8tres",level:3},{value:"R\xe9cup\xe9rer des dumps",id:"r\xe9cup\xe9rer-des-dumps",level:2},{value:"Exemple de sortie",id:"exemple-de-sortie",level:2}];function o(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"dvs-dumps",children:"dvs dumps"})}),"\n",(0,r.jsx)(s.p,{children:"G\xe9rer et r\xe9cup\xe9rer des dumps de base de donn\xe9es depuis des serveurs distants."}),"\n",(0,r.jsx)(s.admonition,{title:"Fonctionnalit\xe9 PRO",type:"info",children:(0,r.jsx)(s.p,{children:"Dumps est disponible dans le plan DVS PRO."})}),"\n",(0,r.jsx)(s.h2,{id:"concept",children:"Concept"}),"\n",(0,r.jsx)(s.p,{children:"R\xe9cup\xe9rer des dumps de base de donn\xe9es depuis des serveurs de backup au lieu de bases de donn\xe9es live :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Utiliser l'infrastructure de backup existante"}),"\n",(0,r.jsx)(s.li,{children:"Pas d'impact sur la base de production"}),"\n",(0,r.jsx)(s.li,{children:"Acc\xe8s aux dumps historiques"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"syntaxe",children:"Syntaxe"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"dvs dumps list <remote>\n"})}),"\n",(0,r.jsx)(s.h2,{id:"commandes",children:"Commandes"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Commande"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dvs dumps list <remote>"})}),(0,r.jsx)(s.td,{children:"Lister les fichiers dump disponibles"})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(s.p,{children:["Configurer les dumps dans la config du remote (",(0,r.jsx)(s.code,{children:"<app-dir>/.dvs/remotes/<name>.conf"}),") :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ini",children:"[dumps]\ntransport = ssh\nhost = backup.example.com\nuser = backup\npath = /home/mysql_backup/files\npattern = *.sql.gz\nstrategy = interactive\n"})}),"\n",(0,r.jsx)(s.h3,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Param\xe8tre"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"transport"})}),(0,r.jsxs)(s.td,{children:["Type de transport : ",(0,r.jsx)(s.code,{children:"ssh"}),", ",(0,r.jsx)(s.code,{children:"sftp"}),", ",(0,r.jsx)(s.code,{children:"ftp"}),", ",(0,r.jsx)(s.code,{children:"s3"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"host"})}),(0,r.jsx)(s.td,{children:"Nom d'h\xf4te du serveur"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"path"})}),(0,r.jsx)(s.td,{children:"R\xe9pertoire contenant les dumps"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"pattern"})}),(0,r.jsx)(s.td,{children:"Pattern glob pour matcher les fichiers"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"strategy"})}),(0,r.jsxs)(s.td,{children:["S\xe9lection : ",(0,r.jsx)(s.code,{children:"interactive"})," ou ",(0,r.jsx)(s.code,{children:"latest"})]})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"r\xe9cup\xe9rer-des-dumps",children:"R\xe9cup\xe9rer des dumps"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# S\xe9lection interactive\ndvs pull backup --dumps\n\n# Fichier dump sp\xe9cifique\ndvs pull backup --dumps --dump-file "2025-01-08_mydb.sql.gz"\n'})}),"\n",(0,r.jsx)(s.h2,{id:"exemple-de-sortie",children:"Exemple de sortie"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"$ dvs dumps list backup\n\nAvailable dumps on 'backup':\n  2025-01-08_mydb.sql.gz    45 MB    2025-01-08 02:00\n  2025-01-07_mydb.sql.gz    44 MB    2025-01-07 02:00\n  2025-01-06_mydb.sql.gz    43 MB    2025-01-06 02:00\n"})})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var d=n(6540);const r={},t=d.createContext(r);function i(e){const s=d.useContext(t);return d.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),d.createElement(t.Provider,{value:s},e.children)}}}]);