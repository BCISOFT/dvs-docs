"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6624],{422:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/access-httplog","title":"Acc\xe9der \xe0 HTTP Log","description":"Ce guide explique comment utiliser HTTP Log pour inspecter les requ\xeates HTTP/HTTPS sortantes de vos applications.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/02-guides/access-httplog.md","sourceDirName":"02-guides","slug":"/guides/access-httplog","permalink":"/fr/docs/guides/access-httplog","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1769099911000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Guides","permalink":"/fr/docs/guides/"},"next":{"title":"Acc\xe9der \xe0 Mailpit","permalink":"/fr/docs/guides/access-mailpit"}}');var r=n(4848),t=n(8453);const l={},a="Acc\xe9der \xe0 HTTP Log",d={},c=[{value:"Pr\xe9sentation",id:"pr\xe9sentation",level:2},{value:"Installation du service HTTP Log",id:"installation-du-service-http-log",level:2},{value:"Activer HTTP Log pour une application",id:"activer-http-log-pour-une-application",level:2},{value:"D\xe9sactiver HTTP Log",id:"d\xe9sactiver-http-log",level:2},{value:"Visualiser le trafic HTTP",id:"visualiser-le-trafic-http",level:2},{value:"Liste des requ\xeates",id:"liste-des-requ\xeates",level:3},{value:"D\xe9tails d&#39;une requ\xeate",id:"d\xe9tails-dune-requ\xeate",level:3},{value:"R\xe9f\xe9rence des commandes",id:"r\xe9f\xe9rence-des-commandes",level:2},{value:"Cas d&#39;utilisation",id:"cas-dutilisation",level:2},{value:"D\xe9bugger les int\xe9grations API",id:"d\xe9bugger-les-int\xe9grations-api",level:3},{value:"V\xe9rification des webhooks",id:"v\xe9rification-des-webhooks",level:3},{value:"Analyse de performance",id:"analyse-de-performance",level:3},{value:"Sc\xe9nario Frontend + Backend",id:"sc\xe9nario-frontend--backend",level:2},{value:"D\xe9pannage",id:"d\xe9pannage",level:2},{value:"Les requ\xeates n&#39;apparaissent pas",id:"les-requ\xeates-napparaissent-pas",level:3},{value:"Erreurs de certificat SSL",id:"erreurs-de-certificat-ssl",level:3},{value:"Service indisponible",id:"service-indisponible",level:3},{value:"\xc9tapes suivantes",id:"\xe9tapes-suivantes",level:2}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"acc\xe9der-\xe0-http-log",children:"Acc\xe9der \xe0 HTTP Log"})}),"\n",(0,r.jsx)(s.p,{children:"Ce guide explique comment utiliser HTTP Log pour inspecter les requ\xeates HTTP/HTTPS sortantes de vos applications."}),"\n",(0,r.jsx)(s.h2,{id:"pr\xe9sentation",children:"Pr\xe9sentation"}),"\n",(0,r.jsx)(s.p,{children:"HTTP Log est un outil de d\xe9veloppement qui intercepte et affiche toutes les requ\xeates HTTP/HTTPS sortantes effectu\xe9es par vos applications. C'est extr\xeamement utile pour d\xe9bugger les appels API, les webhooks et les int\xe9grations avec des services externes."}),"\n",(0,r.jsxs)(s.p,{children:["Propuls\xe9 par ",(0,r.jsx)(s.a,{href:"https://mitmproxy.org/",children:"mitmproxy"}),", il fournit une interface web en temps r\xe9el pour surveiller tout le trafic sortant."]}),"\n",(0,r.jsx)(s.h2,{id:"installation-du-service-http-log",children:"Installation du service HTTP Log"}),"\n",(0,r.jsx)(s.p,{children:"Installez d'abord le service httplog :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"dvs service install httplog\n"})}),"\n",(0,r.jsx)(s.p,{children:"Une fois install\xe9, l'interface web est accessible \xe0 :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"https://httplog.svc.dvs.sh\n"})}),"\n",(0,r.jsx)(s.h2,{id:"activer-http-log-pour-une-application",children:"Activer HTTP Log pour une application"}),"\n",(0,r.jsx)(s.p,{children:"Le logging HTTP doit \xeatre activ\xe9 par application :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd ~/projects/mon-app\ndvs httplog enable\n"})}),"\n",(0,r.jsx)(s.p,{children:"Cela va :"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Configurer l'application pour router le trafic HTTP via le proxy"}),"\n",(0,r.jsx)(s.li,{children:"Installer le certificat CA de mitmproxy pour l'interception HTTPS"}),"\n",(0,r.jsx)(s.li,{children:"Red\xe9marrer le conteneur de l'application"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"d\xe9sactiver-http-log",children:"D\xe9sactiver HTTP Log"}),"\n",(0,r.jsx)(s.p,{children:"Pour d\xe9sactiver le logging HTTP pour une application :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"dvs httplog disable\n"})}),"\n",(0,r.jsx)(s.h2,{id:"visualiser-le-trafic-http",children:"Visualiser le trafic HTTP"}),"\n",(0,r.jsx)(s.h3,{id:"liste-des-requ\xeates",children:"Liste des requ\xeates"}),"\n",(0,r.jsx)(s.p,{children:"L'interface web de mitmproxy affiche toutes les requ\xeates intercept\xe9es :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"M\xe9thode de requ\xeate (GET, POST, etc.)"}),"\n",(0,r.jsx)(s.li,{children:"URL"}),"\n",(0,r.jsx)(s.li,{children:"Code de statut de la r\xe9ponse"}),"\n",(0,r.jsx)(s.li,{children:"Taille de la r\xe9ponse"}),"\n",(0,r.jsx)(s.li,{children:"Dur\xe9e"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"d\xe9tails-dune-requ\xeate",children:"D\xe9tails d'une requ\xeate"}),"\n",(0,r.jsx)(s.p,{children:"Cliquez sur une requ\xeate pour voir :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Headers complets de la requ\xeate"}),"\n",(0,r.jsx)(s.li,{children:"Corps de la requ\xeate (pour POST/PUT)"}),"\n",(0,r.jsx)(s.li,{children:"Headers de la r\xe9ponse"}),"\n",(0,r.jsx)(s.li,{children:"Corps de la r\xe9ponse"}),"\n",(0,r.jsx)(s.li,{children:"Informations de timing"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"r\xe9f\xe9rence-des-commandes",children:"R\xe9f\xe9rence des commandes"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Commande"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dvs httplog enable"})}),(0,r.jsx)(s.td,{children:"Activer le logging HTTP pour l'app courante"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dvs httplog disable"})}),(0,r.jsx)(s.td,{children:"D\xe9sactiver le logging HTTP pour l'app courante"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dvs httplog status"})}),(0,r.jsx)(s.td,{children:"Afficher le statut du logging HTTP pour l'app courante"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dvs httplog list"})}),(0,r.jsx)(s.td,{children:"Lister toutes les apps avec leur statut HTTP logging"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dvs httplog tail"})}),(0,r.jsx)(s.td,{children:"Suivre les logs HTTP en temps r\xe9el dans le terminal"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"cas-dutilisation",children:"Cas d'utilisation"}),"\n",(0,r.jsx)(s.h3,{id:"d\xe9bugger-les-int\xe9grations-api",children:"D\xe9bugger les int\xe9grations API"}),"\n",(0,r.jsx)(s.p,{children:"Quand votre application fait des appels vers des API externes (Stripe, PayPal, transporteurs, etc.), vous pouvez voir :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Le payload exact envoy\xe9"}),"\n",(0,r.jsx)(s.li,{children:"La r\xe9ponse re\xe7ue"}),"\n",(0,r.jsx)(s.li,{children:"Les erreurs ou r\xe9ponses inattendues"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"v\xe9rification-des-webhooks",children:"V\xe9rification des webhooks"}),"\n",(0,r.jsx)(s.p,{children:"Lors de tests de webhooks, v\xe9rifiez que votre application envoie le bon payload aux services externes."}),"\n",(0,r.jsx)(s.h3,{id:"analyse-de-performance",children:"Analyse de performance"}),"\n",(0,r.jsx)(s.p,{children:"Identifiez les appels API externes lents qui pourraient affecter les performances de votre application."}),"\n",(0,r.jsx)(s.h2,{id:"sc\xe9nario-frontend--backend",children:"Sc\xe9nario Frontend + Backend"}),"\n",(0,r.jsx)(s.p,{children:"Si vous avez plusieurs applications (ex: frontend et backend), vous pouvez activer le logging HTTP uniquement sur le backend pour r\xe9duire le bruit :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd ~/projects/backend\ndvs httplog enable\n\n# Le frontend reste sans HTTP logging\ncd ~/projects/frontend\n# (pas besoin de httplog enable)\n"})}),"\n",(0,r.jsx)(s.h2,{id:"d\xe9pannage",children:"D\xe9pannage"}),"\n",(0,r.jsx)(s.h3,{id:"les-requ\xeates-napparaissent-pas",children:"Les requ\xeates n'apparaissent pas"}),"\n",(0,r.jsx)(s.p,{children:"Si les requ\xeates HTTP n'apparaissent pas dans l'interface :"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["V\xe9rifiez que le service httplog tourne : ",(0,r.jsx)(s.code,{children:"dvs status"})]}),"\n",(0,r.jsxs)(s.li,{children:["V\xe9rifiez que le logging HTTP est activ\xe9 pour votre app : ",(0,r.jsx)(s.code,{children:"dvs httplog status"})]}),"\n",(0,r.jsxs)(s.li,{children:["Red\xe9marrez votre application : ",(0,r.jsx)(s.code,{children:"dvs restart"})]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"erreurs-de-certificat-ssl",children:"Erreurs de certificat SSL"}),"\n",(0,r.jsx)(s.p,{children:"Si votre application signale des erreurs de certificat SSL quand le logging HTTP est activ\xe9 :"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Assurez-vous que le conteneur de l'application a \xe9t\xe9 red\xe9marr\xe9 apr\xe8s l'activation"}),"\n",(0,r.jsx)(s.li,{children:"V\xe9rifiez que le CA mitmproxy a \xe9t\xe9 correctement install\xe9"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"service-indisponible",children:"Service indisponible"}),"\n",(0,r.jsx)(s.p,{children:"Si le service httplog s'arr\xeate, les applications avec le logging HTTP activ\xe9 ne pourront plus faire de requ\xeates sortantes. Pour corriger :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"dvs service start httplog\n"})}),"\n",(0,r.jsx)(s.p,{children:"Ou d\xe9sactivez le logging HTTP pour les apps affect\xe9es :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"dvs httplog disable\n"})}),"\n",(0,r.jsx)(s.h2,{id:"\xe9tapes-suivantes",children:"\xc9tapes suivantes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Apprenez \xe0 ",(0,r.jsx)(s.a,{href:"/docs/guides/access-mailpit",children:"acc\xe9der \xe0 Mailpit"})," pour tester les emails"]}),"\n",(0,r.jsxs)(s.li,{children:["Apprenez \xe0 ",(0,r.jsx)(s.a,{href:"/docs/guides/use-phpmyadmin",children:"utiliser phpMyAdmin"})," pour la gestion de base de donn\xe9es"]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var i=n(6540);const r={},t=i.createContext(r);function l(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);