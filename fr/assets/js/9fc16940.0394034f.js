"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7729],{3805:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"admin-commands/check","title":"dvs check","description":"V\xe9rifier et r\xe9parer les applications, supprimer les ressources orphelines.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/04-admin-commands/check.md","sourceDirName":"04-admin-commands","slug":"/admin-commands/check","permalink":"/fr/docs/admin-commands/check","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1769099911000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"dvs changelog","permalink":"/fr/docs/admin-commands/changelog"},"next":{"title":"dvs mysqlconsole","permalink":"/fr/docs/admin-commands/mysqlconsole"}}');var i=n(4848),a=n(8453);const c={},l="dvs check",o={},d=[{value:"Description",id:"description",level:2},{value:"Utilisation",id:"utilisation",level:2},{value:"Options",id:"options",level:3},{value:"Notes importantes",id:"notes-importantes",level:2},{value:"Exemples",id:"exemples",level:2},{value:"R\xe9parer une application avec un fichier .devspaces manquant",id:"r\xe9parer-une-application-avec-un-fichier-devspaces-manquant",level:3},{value:"Supprimer les bases de donn\xe9es orphelines",id:"supprimer-les-bases-de-donn\xe9es-orphelines",level:3},{value:"Mode dry-run",id:"mode-dry-run",level:3},{value:"Commandes associ\xe9es",id:"commandes-associ\xe9es",level:2}];function t(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"dvs-check",children:"dvs check"})}),"\n",(0,i.jsx)(s.p,{children:"V\xe9rifier et r\xe9parer les applications, supprimer les ressources orphelines."}),"\n",(0,i.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(s.p,{children:["La commande ",(0,i.jsx)(s.code,{children:"check"})," diagnostique et corrige les probl\xe8mes de votre installation DVS :"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Applications r\xe9parables"})," : Applications avec un fichier ",(0,i.jsx)(s.code,{children:".devspaces"})," manquant qui peuvent \xeatre r\xe9par\xe9es"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Bases de donn\xe9es MySQL/MariaDB orphelines"})," : Bases de donn\xe9es qui ne sont r\xe9f\xe9renc\xe9es par aucune application install\xe9e"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Utilisateurs SQL orphelins"})," : Utilisateurs MySQL/MariaDB qui ne sont r\xe9f\xe9renc\xe9s par aucune application install\xe9e"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Configurations d'applications orphelines"})," : Dossiers de configuration d'applications dont les r\xe9pertoires ",(0,i.jsx)(s.code,{children:"APP_ROOT"})," ou ",(0,i.jsx)(s.code,{children:"APP_WEB_ROOT"})," n'existent plus"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"La commande propose d'abord de r\xe9parer les probl\xe8mes corrigeables, puis identifie les ressources orphelines \xe0 nettoyer."}),"\n",(0,i.jsx)(s.h2,{id:"utilisation",children:"Utilisation"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"dvs check [--dry-run]\n"})}),"\n",(0,i.jsx)(s.h3,{id:"options",children:"Options"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--dry-run"})," : Affiche ce qui serait r\xe9par\xe9 ou supprim\xe9 sans effectuer de modifications."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"notes-importantes",children:"Notes importantes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Interactif"})," : La commande permet de s\xe9lectionner quelles ressources r\xe9parer ou supprimer via des invites interactives"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"R\xe9paration en premier"})," : Les applications r\xe9parables sont trait\xe9es avant le nettoyage des orphelins"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"S\xfbr"})," : Seules les ressources non r\xe9f\xe9renc\xe9es par des applications valides sont propos\xe9es \xe0 la suppression"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Gestion des services"})," : La commande d\xe9marre automatiquement les services MySQL/MariaDB s'ils ne sont pas en cours d'ex\xe9cution"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"exemples",children:"Exemples"}),"\n",(0,i.jsx)(s.h3,{id:"r\xe9parer-une-application-avec-un-fichier-devspaces-manquant",children:"R\xe9parer une application avec un fichier .devspaces manquant"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ dvs check\n\nDVS Check\n\n[!] Repairable apps (missing .devspaces file):\n  - myapp (/Users/dev/myapp)\n\n\u26a0 Repair these apps by recreating .devspaces files?\n  [No]  [Yes]\n\n\u2192 Yes\n[\u2713] Repaired myapp\n\nCheck Analysis:\n\nNo orphaned resources found.\n"})}),"\n",(0,i.jsx)(s.h3,{id:"supprimer-les-bases-de-donn\xe9es-orphelines",children:"Supprimer les bases de donn\xe9es orphelines"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ dvs check\n\nDVS Check\n\nCheck Analysis:\n\nOrphaned databases:\n  - old_app_db (from mysql-8.0)\n\nSelect resources to delete (space to toggle, enter to confirm):\n  [\u2713] All\n  [ ] db:old_app_db\n  [ ] Cancel\n\nDeleting database old_app_db ... \u2714\n\nCheck completed.\n"})}),"\n",(0,i.jsx)(s.h3,{id:"mode-dry-run",children:"Mode dry-run"}),"\n",(0,i.jsx)(s.p,{children:"Pr\xe9visualisez ce qui serait r\xe9par\xe9 ou supprim\xe9 :"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ dvs check --dry-run\n\nDVS Check (dry-run)\n\n[!] Repairable apps (missing .devspaces file):\n  - myapp (/Users/dev/myapp)\n\n[i] Dry-run: would recreate .devspaces files for these apps\n\nCheck Analysis:\n\nOrphaned databases:\n  - old_app_db (from mysql-8.0)\n\nDry-run mode: The following resources would be deleted:\n  - old_app_db (from mysql-8.0)\n\nNo changes were made (dry-run mode).\n"})}),"\n",(0,i.jsx)(s.h2,{id:"commandes-associ\xe9es",children:"Commandes associ\xe9es"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"dvs mysqlconsole"})," - Acc\xe8s root \xe0 MySQL/MariaDB"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"dvs status"})," - Liste les services et applications avec leur statut"]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>l});var r=n(6540);const i={},a=r.createContext(i);function c(e){const s=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);