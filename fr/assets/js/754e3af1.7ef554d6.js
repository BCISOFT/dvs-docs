"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[277],{8406:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"control-commands/upgrade","title":"dvs upgrade","description":"Mettre \xe0 jour vers la derni\xe8re version.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/02-control-commands/upgrade.md","sourceDirName":"02-control-commands","slug":"/control-commands/upgrade","permalink":"/fr/docs/control-commands/upgrade","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1762427088000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"dvs sync","permalink":"/fr/docs/control-commands/sync"},"next":{"title":"dvs version","permalink":"/fr/docs/control-commands/version"}}');var r=n(4848),l=n(8453);const o={},c="dvs upgrade",d={},t=[{value:"Description",id:"description",level:2},{value:"Utilisation",id:"utilisation",level:2},{value:"Ce qu&#39;elle fait",id:"ce-quelle-fait",level:2},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Exemples",id:"exemples",level:2},{value:"Processus de mise \xe0 jour",id:"processus-de-mise-\xe0-jour",level:2},{value:"Notes importantes",id:"notes-importantes",level:2},{value:"Cas d&#39;usage",id:"cas-dusage",level:2},{value:"Commandes associ\xe9es",id:"commandes-associ\xe9es",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"dvs-upgrade",children:"dvs upgrade"})}),"\n",(0,r.jsx)(s.p,{children:"Mettre \xe0 jour vers la derni\xe8re version."}),"\n",(0,r.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(s.p,{children:["La commande ",(0,r.jsx)(s.code,{children:"upgrade"})," met \xe0 jour \xe0 la fois le binaire dvsctl et l'image Docker admin vers leurs derni\xe8res versions. Elle v\xe9rifie les mises \xe0 jour, t\xe9l\xe9charge les nouvelles versions si disponibles, et effectue les mises \xe0 jour syst\xe8me n\xe9cessaires."]}),"\n",(0,r.jsx)(s.h2,{id:"utilisation",children:"Utilisation"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"dvs upgrade\n"})}),"\n",(0,r.jsx)(s.h2,{id:"ce-quelle-fait",children:"Ce qu'elle fait"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"V\xe9rifie les versions actuelles (dvsctl et image admin)"}),"\n",(0,r.jsx)(s.li,{children:"R\xe9cup\xe8re les derni\xe8res versions depuis le serveur"}),"\n",(0,r.jsx)(s.li,{children:"Compare les versions et d\xe9termine si des mises \xe0 jour sont n\xe9cessaires"}),"\n",(0,r.jsx)(s.li,{children:"Valide la licence avant la mise \xe0 jour"}),"\n",(0,r.jsx)(s.li,{children:"T\xe9l\xe9charge et installe le nouveau binaire dvsctl si n\xe9cessaire"}),"\n",(0,r.jsx)(s.li,{children:"T\xe9l\xe9charge et met \xe0 jour l'image Docker admin si n\xe9cessaire"}),"\n",(0,r.jsx)(s.li,{children:"Ex\xe9cute la mise \xe0 jour syst\xe8me interne"}),"\n",(0,r.jsx)(s.li,{children:"Nettoie les anciennes images"}),"\n",(0,r.jsx)(s.li,{children:"R\xe9g\xe9n\xe8re wrapper.sh"}),"\n",(0,r.jsx)(s.li,{children:"Met \xe0 jour les scripts de compl\xe9tion"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"pr\xe9requis",children:"Pr\xe9requis"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Une installation valide doit exister"}),"\n",(0,r.jsx)(s.li,{children:"Connexion internet pour t\xe9l\xe9charger les mises \xe0 jour"}),"\n",(0,r.jsx)(s.li,{children:"La licence doit \xeatre valide (la validation est effectu\xe9e avant la mise \xe0 jour)"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"exemples",children:"Exemples"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# V\xe9rifier et mettre \xe0 jour\ndvs upgrade\n"})}),"\n",(0,r.jsx)(s.h2,{id:"processus-de-mise-\xe0-jour",children:"Processus de mise \xe0 jour"}),"\n",(0,r.jsx)(s.p,{children:"Le processus de mise \xe0 jour est interactif :"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Affiche les versions actuelles et derni\xe8res"}),"\n",(0,r.jsx)(s.li,{children:"Montre ce qui sera mis \xe0 jour"}),"\n",(0,r.jsx)(s.li,{children:"Demande confirmation"}),"\n",(0,r.jsx)(s.li,{children:"Effectue la mise \xe0 jour"}),"\n",(0,r.jsx)(s.li,{children:"Met \xe0 jour les composants associ\xe9s"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"notes-importantes",children:"Notes importantes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Validation de licence"})," : La commande valide votre licence avant la mise \xe0 jour. Si la validation \xe9choue, elle tente de la corriger avec ",(0,r.jsx)(s.code,{children:"dvs sync"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Mise \xe0 jour du binaire"})," : Le binaire dvsctl est mis \xe0 jour de mani\xe8re atomique avec un m\xe9canisme de sauvegarde."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Image admin"})," : L'image Docker admin est mise \xe0 jour pour correspondre \xe0 la version requise."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Red\xe9marrage du shell"})," : Apr\xe8s la mise \xe0 jour, vous devrez peut-\xeatre red\xe9marrer votre shell ou sourcer votre fichier de configuration shell."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"cas-dusage",children:"Cas d'usage"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Maintenir DevSpaces \xe0 jour"}),"\n",(0,r.jsx)(s.li,{children:"Obtenir les derni\xe8res fonctionnalit\xe9s et corrections de bugs"}),"\n",(0,r.jsx)(s.li,{children:"Assurer la compatibilit\xe9 avec le serveur"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"commandes-associ\xe9es",children:"Commandes associ\xe9es"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"dvs version"})," - V\xe9rifier la version actuelle"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"dvs sync"})," - Synchroniser la configuration (peut corriger les probl\xe8mes de licence)"]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var i=n(6540);const r={},l=i.createContext(r);function o(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(l.Provider,{value:s},e.children)}}}]);