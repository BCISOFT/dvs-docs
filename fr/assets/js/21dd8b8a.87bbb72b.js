"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6215],{2089:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"control-commands/prompt-customization","title":"Personnalisation du Prompt","description":"Personnalisez votre prompt pour afficher l\'application DVS active.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/03-control-commands/prompt-customization.md","sourceDirName":"03-control-commands","slug":"/control-commands/prompt-customization","permalink":"/fr/docs/control-commands/prompt-customization","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1768896656000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"dvs login","permalink":"/fr/docs/control-commands/login"},"next":{"title":"dvs remove","permalink":"/fr/docs/control-commands/remove"}}');var i=s(4848),t=s(8453);const o={},a="Personnalisation du Prompt",l={},d=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Int\xe9gration automatique du prompt",id:"int\xe9gration-automatique-du-prompt",level:2},{value:"D\xe9sactiver l&#39;indicateur du prompt",id:"d\xe9sactiver-lindicateur-du-prompt",level:2},{value:"Int\xe9gration avec des prompts personnalis\xe9s",id:"int\xe9gration-avec-des-prompts-personnalis\xe9s",level:2},{value:"Starship",id:"starship",level:3},{value:"OhMyZsh",id:"ohmyzsh",level:3},{value:"Autres prompts personnalis\xe9s",id:"autres-prompts-personnalis\xe9s",level:3},{value:"Variable d&#39;environnement",id:"variable-denvironnement",level:2},{value:"DVS_PROMPT_DISABLE",id:"dvs_prompt_disable",level:3},{value:"Mise \xe0 jour du prompt",id:"mise-\xe0-jour-du-prompt",level:2},{value:"Voir aussi",id:"voir-aussi",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"personnalisation-du-prompt",children:"Personnalisation du Prompt"})}),"\n",(0,i.jsx)(n.p,{children:"Personnalisez votre prompt pour afficher l'application DVS active."}),"\n",(0,i.jsx)(n.h2,{id:"vue-densemble",children:"Vue d'ensemble"}),"\n",(0,i.jsxs)(n.p,{children:["Lorsque vous d\xe9finissez la variable d'environnement ",(0,i.jsx)(n.code,{children:"DVS_ACTIVE_APP"}),", DVS ajoute automatiquement un indicateur \xe0 votre prompt affichant le nom de l'app active : ",(0,i.jsx)(n.code,{children:"(dvs:nom-app)"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Cet indicateur est compatible avec la plupart des configurations shell et prompts personnalis\xe9s (OhMyZsh, Starship, etc.)."}),"\n",(0,i.jsx)(n.h2,{id:"int\xe9gration-automatique-du-prompt",children:"Int\xe9gration automatique du prompt"}),"\n",(0,i.jsx)(n.p,{children:"L'indicateur du prompt est automatiquement ajout\xe9 par le script DVS lorsque :"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["La variable d'environnement ",(0,i.jsx)(n.code,{children:"DVS_ACTIVE_APP"})," est d\xe9finie avec un nom d'application valide"]}),"\n",(0,i.jsxs)(n.li,{children:["La variable d'environnement ",(0,i.jsx)(n.code,{children:"DVS_PROMPT_DISABLE"})," n'est pas d\xe9finie \xe0 ",(0,i.jsx)(n.code,{children:"1"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"L'int\xe9gration utilise des hooks shell pour \xe9viter de casser les prompts personnalis\xe9s :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bash"})," : Utilise le hook ",(0,i.jsx)(n.code,{children:"PROMPT_COMMAND"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zsh"})," : Utilise le hook ",(0,i.jsx)(n.code,{children:"precmd"})," via ",(0,i.jsx)(n.code,{children:"add-zsh-hook"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fish"})," : Enveloppe la fonction ",(0,i.jsx)(n.code,{children:"fish_prompt"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"d\xe9sactiver-lindicateur-du-prompt",children:"D\xe9sactiver l'indicateur du prompt"}),"\n",(0,i.jsxs)(n.p,{children:["Pour d\xe9sactiver l'indicateur automatique du prompt, d\xe9finissez la variable d'environnement ",(0,i.jsx)(n.code,{children:"DVS_PROMPT_DISABLE"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export DVS_PROMPT_DISABLE=1\n"})}),"\n",(0,i.jsx)(n.p,{children:"Pour le r\xe9activer :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unset DVS_PROMPT_DISABLE\n"})}),"\n",(0,i.jsx)(n.p,{children:"Vous pouvez \xe9galement ajouter ceci \xe0 votre fichier de configuration shell pour le rendre permanent :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Dans ~/.bashrc, ~/.zshrc, ou ~/.config/fish/config.fish\nexport DVS_PROMPT_DISABLE=1\n"})}),"\n",(0,i.jsx)(n.h2,{id:"int\xe9gration-avec-des-prompts-personnalis\xe9s",children:"Int\xe9gration avec des prompts personnalis\xe9s"}),"\n",(0,i.jsx)(n.h3,{id:"starship",children:"Starship"}),"\n",(0,i.jsxs)(n.p,{children:["Pour une exp\xe9rience plus int\xe9gr\xe9e avec Starship, vous pouvez ajouter un module personnalis\xe9 dans votre ",(0,i.jsx)(n.code,{children:"~/.config/starship.toml"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[custom.dvs]\ncommand = "echo $DVS_ACTIVE_APP"\nwhen = "test -n \\"$DVS_ACTIVE_APP\\""\nformat = "[$symbol($output )]($style)"\nsymbol = "\ud83c\udd50 "\nstyle = "bold green"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Cela affichera le nom de l'app active avec un symbole et un style personnalis\xe9s qui correspondent \xe0 votre th\xe8me Starship."}),"\n",(0,i.jsx)(n.h3,{id:"ohmyzsh",children:"OhMyZsh"}),"\n",(0,i.jsxs)(n.p,{children:["Pour les th\xe8mes OhMyZsh, vous pouvez personnaliser le prompt en ajoutant \xe0 votre ",(0,i.jsx)(n.code,{children:"~/.zshrc"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Indicateur d\'app DVS pour OhMyZsh\n_dvs_prompt_app() {\n    if [ -n "$DVS_ACTIVE_APP" ]; then\n        echo "%F{green}(dvs:$DVS_ACTIVE_APP)%f "\n    fi\n}\n\n# Ajouter \xe0 votre prompt de th\xe8me (exemple pour le th\xe8me robbyrussell)\n# PROMPT=\'$(_dvs_prompt_app)\'$PROMPT\n'})}),"\n",(0,i.jsx)(n.p,{children:"Ou l'int\xe9grer dans une fonction de th\xe8me personnalis\xe9e appel\xe9e par votre th\xe8me."}),"\n",(0,i.jsx)(n.h3,{id:"autres-prompts-personnalis\xe9s",children:"Autres prompts personnalis\xe9s"}),"\n",(0,i.jsx)(n.p,{children:"Pour d'autres syst\xe8mes de prompts personnalis\xe9s, vous devez lire l'app active dynamiquement \xe0 chaque affichage du prompt. Voici des exemples pour diff\xe9rents shells :"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Bash :"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Fonction pour obtenir l\'app active (appel\xe9e avant chaque prompt)\n_dvs_get_active_app() {\n    if [ -n "$DVS_ACTIVE_APP" ]; then\n        echo "(dvs:$DVS_ACTIVE_APP) "\n    fi\n}\n\n# Ajouter \xe0 PROMPT_COMMAND pour mettre \xe0 jour le prompt dynamiquement\nPROMPT_COMMAND=\'DVS_APP_INDICATOR=$(_dvs_get_active_app); \'"$PROMPT_COMMAND"\n\n# Utiliser dans votre prompt\nPS1=\'$DVS_APP_INDICATOR\'"$PS1"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Zsh :"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Fonction pour obtenir l\'app active (appel\xe9e avant chaque prompt)\n_dvs_get_active_app() {\n    if [ -n "$DVS_ACTIVE_APP" ]; then\n        echo "%F{green}(dvs:$DVS_ACTIVE_APP)%f "\n    fi\n}\n\n# Ajouter au hook precmd\nautoload -Uz add-zsh-hook\nadd-zsh-hook precmd _dvs_update_prompt\n_dvs_update_prompt() {\n    DVS_APP_INDICATOR=$(_dvs_get_active_app)\n}\n\n# Utiliser dans votre prompt\nPROMPT=\'$DVS_APP_INDICATOR\'"$PROMPT"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fish :"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-fish",children:'# Fonction pour obtenir l\'app active\nfunction _dvs_get_active_app\n    if test -n "$DVS_ACTIVE_APP"\n        echo -n "(dvs:$DVS_ACTIVE_APP) "\n    end\nend\n\n# Utiliser dans fish_prompt\nfunction fish_prompt\n    echo -n (_dvs_get_active_app)\n    # ... reste de votre prompt\nend\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important :"})," La variable d'environnement ",(0,i.jsx)(n.code,{children:"DVS_ACTIVE_APP"})," est lue directement depuis l'environnement de votre shell. L'indicateur se met \xe0 jour imm\xe9diatement lorsque vous d\xe9finissez ou supprimez la variable."]}),"\n",(0,i.jsx)(n.h2,{id:"variable-denvironnement",children:"Variable d'environnement"}),"\n",(0,i.jsx)(n.h3,{id:"dvs_prompt_disable",children:"DVS_PROMPT_DISABLE"}),"\n",(0,i.jsx)(n.p,{children:"Contr\xf4le si l'indicateur automatique du prompt est affich\xe9."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Par d\xe9faut"})," : ",(0,i.jsx)(n.code,{children:"0"})," (indicateur du prompt activ\xe9)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Valeurs"})," :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," ou non d\xe9fini : L'indicateur du prompt est affich\xe9 lorsqu'une app est active"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1"})," : L'indicateur du prompt est d\xe9sactiv\xe9"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Exemple :"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# D\xe9sactiver l'indicateur du prompt\nexport DVS_PROMPT_DISABLE=1\n\n# R\xe9activer l'indicateur du prompt\nunset DVS_PROMPT_DISABLE\n# ou\nexport DVS_PROMPT_DISABLE=0\n"})}),"\n",(0,i.jsx)(n.h2,{id:"mise-\xe0-jour-du-prompt",children:"Mise \xe0 jour du prompt"}),"\n",(0,i.jsxs)(n.p,{children:["Apr\xe8s avoir d\xe9fini ou supprim\xe9 ",(0,i.jsx)(n.code,{children:"DVS_ACTIVE_APP"}),", l'indicateur du prompt se met \xe0 jour automatiquement. Cependant, si vous ne voyez pas le changement :"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Red\xe9marrez votre shell"})," (ouvrez un nouveau terminal)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ou rechargez le script wrapper :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source ~/.config/devspaces/helpers/wrapper.sh\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"voir-aussi",children:"Voir aussi"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/fr/docs/control-commands/active-app",children:"Application Active"})," - Contr\xf4ler l'application active via variable d'environnement"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var r=s(6540);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);