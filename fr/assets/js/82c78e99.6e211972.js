"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[600],{8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}},9593:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"data-management/remote/configure","title":"dvs remote configure","description":"Configurer un serveur distant interactivement.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/10-data-management/remote/configure.md","sourceDirName":"10-data-management/remote","slug":"/data-management/remote/configure","permalink":"/fr/docs/data-management/remote/configure","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1769113845000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"dvs remote configure"},"sidebar":"tutorialSidebar","previous":{"title":"Vue d\'ensemble","permalink":"/fr/docs/data-management/remote/"},"next":{"title":"dvs remote wizard","permalink":"/fr/docs/data-management/remote/wizard"}}');var r=s(4848),i=s(8453);const o={sidebar_position:2,title:"dvs remote configure"},d="dvs remote configure",a={},c=[{value:"Syntaxe",id:"syntaxe",level:2},{value:"Options",id:"options",level:2},{value:"Exemple",id:"exemple",level:2},{value:"Processus interactif",id:"processus-interactif",level:2},{value:"Fichier de configuration",id:"fichier-de-configuration",level:2},{value:"Secrets",id:"secrets",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"dvs-remote-configure",children:"dvs remote configure"})}),"\n",(0,r.jsx)(n.p,{children:"Configurer un serveur distant interactivement."}),"\n",(0,r.jsx)(n.h2,{id:"syntaxe",children:"Syntaxe"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dvs remote configure <name> [options]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--type <transport>"})}),(0,r.jsxs)(n.td,{children:["Type de transport : ",(0,r.jsx)(n.code,{children:"ssh"}),", ",(0,r.jsx)(n.code,{children:"sftp"}),", ",(0,r.jsx)(n.code,{children:"ftp"}),", ",(0,r.jsx)(n.code,{children:"s3"})]})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"exemple",children:"Exemple"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dvs remote configure prod --type ssh\n"})}),"\n",(0,r.jsx)(n.h2,{id:"processus-interactif",children:"Processus interactif"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"S\xe9lection du transport"})," (si non sp\xe9cifi\xe9)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Param\xe8tres de connexion"})," : host, port, user"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configuration des composants"})," :","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Files : chemin distant, exclusions"}),"\n",(0,r.jsx)(n.li,{children:"Database : credentials, nom de la base"}),"\n",(0,r.jsx)(n.li,{children:"Dumps : chemin, pattern (optionnel)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"fichier-de-configuration",children:"Fichier de configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Cr\xe9\xe9 dans ",(0,r.jsx)(n.code,{children:"<app-dir>/.dvs/remotes/<name>.conf"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[default]\ntransport = ssh\nhost = prod.example.com\nuser = deploy\n\n[files]\npath = /var/www/myapp\nexclude = .git,node_modules,var/cache\n\n[database]\ntransport = ssh\nhost = prod.example.com\nuser = deploy\ndb_host = localhost\ndb_name = myapp_prod\ndb_user = myapp\ndb_password = ${PROD_DB_PASSWORD}\n\n[dumps]\ntransport = ssh\npath = /home/backups/mysql\npattern = *.sql.gz\nstrategy = interactive\n"})}),"\n",(0,r.jsx)(n.h2,{id:"secrets",children:"Secrets"}),"\n",(0,r.jsxs)(n.p,{children:["Utilisez la syntaxe ",(0,r.jsx)(n.code,{children:"${VAR_NAME}"})," pour les valeurs sensibles :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# D\xe9finir un secret\ndvs secrets set PROD_DB_PASSWORD "mysecretpassword"\n\n# R\xe9f\xe9rencer dans la config\ndb_password = ${PROD_DB_PASSWORD}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);