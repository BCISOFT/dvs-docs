"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7263],{2710:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"guides/setup-prestashop-image-proxy","title":"Configurer le proxy d\'image PrestaShop","description":"Ce guide explique comment configurer et utiliser la fonctionnalit\xe9 de proxy d\'image pour PrestaShop, qui vous permet de servir des images depuis un domaine distant via votre environnement de d\xe9veloppement local.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/02-guides/setup-prestashop-image-proxy.md","sourceDirName":"02-guides","slug":"/guides/setup-prestashop-image-proxy","permalink":"/fr/docs/guides/setup-prestashop-image-proxy","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1769113845000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Installation des services de base","permalink":"/fr/docs/guides/install-base-services"},"next":{"title":"Utiliser phpMyAdmin","permalink":"/fr/docs/guides/use-phpmyadmin"}}');var r=n(4848),a=n(8453);const l={},d="Configurer le proxy d'image PrestaShop",o={},t=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"V\xe9rifier le statut du proxy d&#39;image",id:"v\xe9rifier-le-statut-du-proxy-dimage",level:2},{value:"Activer le proxy d&#39;image",id:"activer-le-proxy-dimage",level:2},{value:"\xc9tape 1 : D\xe9finir le domaine",id:"\xe9tape-1--d\xe9finir-le-domaine",level:3},{value:"\xc9tape 2 : Activer le proxy",id:"\xe9tape-2--activer-le-proxy",level:3},{value:"D\xe9sactiver le proxy d&#39;image",id:"d\xe9sactiver-le-proxy-dimage",level:2},{value:"Basculer le proxy d&#39;image",id:"basculer-le-proxy-dimage",level:2},{value:"Changer le domaine",id:"changer-le-domaine",level:2},{value:"Comment \xe7a fonctionne",id:"comment-\xe7a-fonctionne",level:2},{value:"V\xe9rifier la configuration",id:"v\xe9rifier-la-configuration",level:2},{value:"D\xe9pannage",id:"d\xe9pannage",level:2},{value:"Les images ne se chargent pas",id:"les-images-ne-se-chargent-pas",level:3},{value:"Domaine non d\xe9fini",id:"domaine-non-d\xe9fini",level:3},{value:"Configuration non appliqu\xe9e",id:"configuration-non-appliqu\xe9e",level:3},{value:"Bonnes pratiques",id:"bonnes-pratiques",level:2},{value:"Prochaines \xe9tapes",id:"prochaines-\xe9tapes",level:2}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"configurer-le-proxy-dimage-prestashop",children:"Configurer le proxy d'image PrestaShop"})}),"\n",(0,r.jsx)(i.p,{children:"Ce guide explique comment configurer et utiliser la fonctionnalit\xe9 de proxy d'image pour PrestaShop, qui vous permet de servir des images depuis un domaine distant via votre environnement de d\xe9veloppement local."}),"\n",(0,r.jsx)(i.h2,{id:"vue-densemble",children:"Vue d'ensemble"}),"\n",(0,r.jsx)(i.p,{children:"La fonctionnalit\xe9 de proxy d'image dans PrestaShop vous permet de proxyfier les images depuis un serveur de production ou de staging vers votre environnement de d\xe9veloppement local. C'est utile lorsque vous voulez travailler avec de vraies images de produits sans toutes les t\xe9l\xe9charger localement."}),"\n",(0,r.jsx)(i.h2,{id:"pr\xe9requis",children:"Pr\xe9requis"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Une application PrestaShop cr\xe9\xe9e avec DevSpaces"}),"\n",(0,r.jsx)(i.li,{children:"Acc\xe8s au domaine distant contenant les images que vous souhaitez proxyfier"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"v\xe9rifier-le-statut-du-proxy-dimage",children:"V\xe9rifier le statut du proxy d'image"}),"\n",(0,r.jsx)(i.p,{children:"D'abord, v\xe9rifiez le statut actuel du proxy d'image :"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"dvs img-proxy status\n"})}),"\n",(0,r.jsx)(i.p,{children:"Cela affichera si le proxy d'image est activ\xe9 ou d\xe9sactiv\xe9."}),"\n",(0,r.jsx)(i.h2,{id:"activer-le-proxy-dimage",children:"Activer le proxy d'image"}),"\n",(0,r.jsx)(i.h3,{id:"\xe9tape-1--d\xe9finir-le-domaine",children:"\xc9tape 1 : D\xe9finir le domaine"}),"\n",(0,r.jsx)(i.p,{children:"Avant d'activer le proxy d'image, vous devez sp\xe9cifier le domaine distant :"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"dvs img-proxy set-domain example.com\n"})}),"\n",(0,r.jsxs)(i.p,{children:["Remplacez ",(0,r.jsx)(i.code,{children:"example.com"})," par le domaine de votre serveur de production ou de staging."]}),"\n",(0,r.jsx)(i.h3,{id:"\xe9tape-2--activer-le-proxy",children:"\xc9tape 2 : Activer le proxy"}),"\n",(0,r.jsx)(i.p,{children:"Activez le proxy d'image :"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"dvs img-proxy enable\n"})}),"\n",(0,r.jsx)(i.p,{children:"Cela va :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Configurer Apache pour proxyfier les requ\xeates d'images"}),"\n",(0,r.jsx)(i.li,{children:"Recharger la configuration Apache"}),"\n",(0,r.jsx)(i.li,{children:"D\xe9marrer le proxy des images depuis le domaine sp\xe9cifi\xe9"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"d\xe9sactiver-le-proxy-dimage",children:"D\xe9sactiver le proxy d'image"}),"\n",(0,r.jsx)(i.p,{children:"Pour d\xe9sactiver le proxy d'image :"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"dvs img-proxy disable\n"})}),"\n",(0,r.jsx)(i.p,{children:"Cela arr\xeatera le proxy des images et servira uniquement les images locales."}),"\n",(0,r.jsx)(i.h2,{id:"basculer-le-proxy-dimage",children:"Basculer le proxy d'image"}),"\n",(0,r.jsx)(i.p,{children:"Vous pouvez rapidement basculer le proxy d'image activ\xe9/d\xe9sactiv\xe9 :"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"dvs img-proxy toggle\n"})}),"\n",(0,r.jsx)(i.p,{children:"Cela basculera entre les \xe9tats activ\xe9 et d\xe9sactiv\xe9."}),"\n",(0,r.jsx)(i.h2,{id:"changer-le-domaine",children:"Changer le domaine"}),"\n",(0,r.jsxs)(i.p,{children:["Pour changer le domaine du proxy, utilisez \xe0 nouveau la commande ",(0,r.jsx)(i.code,{children:"set-domain"})," :"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"dvs img-proxy set-domain newdomain.com\n"})}),"\n",(0,r.jsx)(i.p,{children:"La configuration est automatiquement recharg\xe9e apr\xe8s la modification du domaine. La modification est appliqu\xe9e imm\xe9diatement."}),"\n",(0,r.jsx)(i.h2,{id:"comment-\xe7a-fonctionne",children:"Comment \xe7a fonctionne"}),"\n",(0,r.jsx)(i.p,{children:"Lorsque le proxy d'image est activ\xe9 :"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["Les requ\xeates pour les images depuis le r\xe9pertoire ",(0,r.jsx)(i.code,{children:"/img/"})," sont intercept\xe9es"]}),"\n",(0,r.jsx)(i.li,{children:"La requ\xeate est transf\xe9r\xe9e vers le domaine distant que vous avez sp\xe9cifi\xe9"}),"\n",(0,r.jsx)(i.li,{children:"L'image est r\xe9cup\xe9r\xe9e et servie \xe0 votre site local"}),"\n",(0,r.jsx)(i.li,{children:"Les requ\xeates suivantes peuvent \xeatre mises en cache localement"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"Cela vous permet de :"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Travailler avec des images de production sans les t\xe9l\xe9charger"}),"\n",(0,r.jsx)(i.li,{children:"Tester avec de vraies images de produits"}),"\n",(0,r.jsx)(i.li,{children:"R\xe9duire les besoins de stockage local"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"v\xe9rifier-la-configuration",children:"V\xe9rifier la configuration"}),"\n",(0,r.jsx)(i.p,{children:"Apr\xe8s activation, v\xe9rifiez que les images sont proxyfi\xe9es :"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["V\xe9rifiez le statut : ",(0,r.jsx)(i.code,{children:"dvs img-proxy status"})]}),"\n",(0,r.jsx)(i.li,{children:"Visitez votre site PrestaShop et visualisez les images de produits"}),"\n",(0,r.jsx)(i.li,{children:"V\xe9rifiez l'onglet r\xe9seau du navigateur pour voir si les images sont charg\xe9es depuis le proxy"}),"\n",(0,r.jsxs)(i.li,{children:["V\xe9rifiez les logs du proxy : ",(0,r.jsx)(i.code,{children:"dvs logs"})," pour voir l'activit\xe9 du proxy"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"d\xe9pannage",children:"D\xe9pannage"}),"\n",(0,r.jsx)(i.h3,{id:"les-images-ne-se-chargent-pas",children:"Les images ne se chargent pas"}),"\n",(0,r.jsx)(i.p,{children:"Si les images ne se chargent pas apr\xe8s activation du proxy :"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["V\xe9rifiez que le domaine est correct : ",(0,r.jsx)(i.code,{children:"dvs img-proxy status"})]}),"\n",(0,r.jsx)(i.li,{children:"V\xe9rifiez que le domaine distant est accessible"}),"\n",(0,r.jsx)(i.li,{children:"V\xe9rifiez que la configuration Apache a \xe9t\xe9 recharg\xe9e"}),"\n",(0,r.jsxs)(i.li,{children:["V\xe9rifiez les logs de l'application : ",(0,r.jsx)(i.code,{children:"dvs logs"})]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"domaine-non-d\xe9fini",children:"Domaine non d\xe9fini"}),"\n",(0,r.jsx)(i.p,{children:"Si vous essayez d'activer sans d\xe9finir de domaine :"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"dvs img-proxy enable\n# Erreur : domaine non fourni et non d\xe9fini\n"})}),"\n",(0,r.jsx)(i.p,{children:"Vous devez d'abord d\xe9finir le domaine :"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"dvs img-proxy set-domain example.com\ndvs img-proxy enable\n"})}),"\n",(0,r.jsx)(i.h3,{id:"configuration-non-appliqu\xe9e",children:"Configuration non appliqu\xe9e"}),"\n",(0,r.jsx)(i.p,{children:"Si les modifications ne semblent pas s'appliquer :"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["V\xe9rifiez le statut : ",(0,r.jsx)(i.code,{children:"dvs img-proxy status"})]}),"\n",(0,r.jsx)(i.li,{children:"Forcez un rafra\xeechissement du navigateur (Ctrl+Shift+R ou Cmd+Shift+R) pour vider le cache des images"}),"\n",(0,r.jsxs)(i.li,{children:["Essayez de basculer : ",(0,r.jsx)(i.code,{children:"dvs img-proxy toggle"})]}),"\n",(0,r.jsxs)(i.li,{children:["V\xe9rifiez les logs Apache : ",(0,r.jsx)(i.code,{children:"dvs logs"})]}),"\n",(0,r.jsxs)(i.li,{children:["Red\xe9marrez l'application : ",(0,r.jsx)(i.code,{children:"dvs restart"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"bonnes-pratiques",children:"Bonnes pratiques"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Utilisez le proxy d'image uniquement lorsque n\xe9cessaire (d\xe9veloppement/test)"}),"\n",(0,r.jsx)(i.li,{children:"D\xe9sactivez-le lorsque vous travaillez avec des images locales"}),"\n",(0,r.jsx)(i.li,{children:"D\xe9finissez le domaine pour correspondre \xe0 votre environnement de staging/production"}),"\n",(0,r.jsx)(i.li,{children:"Testez le chargement des images apr\xe8s activation du proxy"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"prochaines-\xe9tapes",children:"Prochaines \xe9tapes"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Apprenez \xe0 ",(0,r.jsx)(i.a,{href:"/docs/guides/create-prestashop-site",children:"cr\xe9er un site PrestaShop"})]}),"\n",(0,r.jsxs)(i.li,{children:["Apprenez \xe0 ",(0,r.jsx)(i.a,{href:"/docs/guides/access-mailpit",children:"acc\xe9der \xe0 Mailpit"})]}),"\n",(0,r.jsxs)(i.li,{children:["Apprenez \xe0 ",(0,r.jsx)(i.a,{href:"/docs/guides/use-phpmyadmin",children:"utiliser phpMyAdmin"})]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>d});var s=n(6540);const r={},a=s.createContext(r);function l(e){const i=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(a.Provider,{value:i},e.children)}}}]);